{% extends "base.html" %}

{% block title %}
  Participants - {{ subject.title }}
{% endblock %}

{% block content %}
  {% include "subjects_navbar.html" %}

  <div class="container mt-4">
    <h2 class="text-2xl font-semibold mb-4">Participants in {{ subject.title }}</h2>

    <div class="bg-white shadow rounded-lg p-4 mb-4">
      <div class="border-b pb-4 mb-4">
        <h5 class="text-lg font-medium">Teacher</h5>
        <div class="mt-2 pr-6 flex justify-between items-center">
          <div>
            <p><strong>Username:</strong> {{ participants.teacher.username }}</p>
            <p><strong>Email:</strong> {{ participants.teacher.email }}</p>
          </div>
          <a href="/user/chat/{{ participants.teacher.username }}" class="text-blue-500 hover:underline">
            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"/></svg>
          </a>
        </div>
      </div>

      <h3 class="text-xl font-semibold mb-3">Students</h3>
      {% if participants.students %}
        <div class="space-y-4">
          {% for student in participants.students %}
            <div class="px-4 py-3 bg-gray-100 items-center rounded-md">
              <div class="flex justify-between items-center">
                <div>
                  <p><strong>Username:</strong> {{ student.username }}</p>
                  <p><strong>Email:</strong> {{ student.email }}</p>
                </div>
                <a href="/user/chat/{{ student.username }}" class="text-blue-500 hover:underline">
                  <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"/></svg>
                </a>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>No students enrolled in this subject yet.</p>
      {% endif %}
    </div>
  </div>

{% endblock %}
